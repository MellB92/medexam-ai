# GPT-5.2 Handoff - Batch-Runde 2 Execution

**Erstellt:** 2025-12-19
**Von:** Claude Code (Neuer Mac Setup)
**Für:** GPT-5.2 in Cursor

---

## STATUS

**Claude Code hat erledigt:**
- [x] Repository geklont nach ~/Medexamenai
- [x] .env Datei erstellt mit allen API-Keys
- [x] .env auch in Migrations-Verzeichnis kopiert
- [x] Python Environment eingerichtet (.venv)
- [x] Core-Dependencies installiert
- [x] API-Keys verifiziert (Requesty, Anthropic, Perplexity_1 = OK)
- [x] Sensible Dateien aufgeräumt

**API-Keys Status:**
```
Requesty: OK
Anthropic: OK
Perplexity: OK
Perplexity_1: OK
OpenAI: OK
Portkey: OK
AWS Region: OK (aber AWS Credentials ausgeschlossen - nicht funktionsfähig)
```

---

## DEINE AUFGABEN (GPT-5.2)

Die Batch-Korrektur-Infrastruktur ist jetzt bereit. Führe folgende Schritte aus:

### 1. Verifiziere die .env
```bash
cd /Users/entropie/Documents/Medexamenai_Migration/Medexamenai_migration_full_20251217_204617
python3 -c "
from dotenv import load_dotenv
import os
load_dotenv()
print('Requesty:', 'OK' if os.getenv('REQUESTY_API_KEY') else 'FEHLT')
print('Perplexity_1:', 'OK' if os.getenv('PERPLEXITY_API_KEY_1') else 'FEHLT')
"
```

### 2. Führe die Batch-Korrektur aus

Gemäß dem Plan vom 18.12.2025:

```bash
cd /Users/entropie/Documents/Medexamenai_Migration/Medexamenai_migration_full_20251217_204617

# Backup erstellen
cp _OUTPUT/evidenz_antworten.json _OUTPUT/evidenz_antworten_backup_$(date +%Y%m%d_%H%M%S).json

# Batch-Korrektur starten
PYTHONPATH=. python3 scripts/batch_correct_with_reasoning.py \
  --input _OUTPUT/batch_input_prepared_20251218_221551.json \
  --output _OUTPUT/batch_round2_output_20251219.json
```

### 3. Merge durchführen
```bash
# Merge der korrigierten Antworten
PYTHONPATH=. python3 scripts/finalize_batch_review.py \
  --batch-output _OUTPUT/batch_round2_output_20251219.json \
  --target _OUTPUT/evidenz_antworten.json
```

### 4. Validation & Coverage-Check
```python
import json
from pathlib import Path

mm = json.loads(Path('_OUTPUT/meaningful_missing.json').read_text())
qa = json.loads(Path('_OUTPUT/evidenz_antworten.json').read_text())
coverage = sum(1 for x in mm if x['question'] in {q['frage'] for q in qa})/len(mm)*100
print(f'Coverage: {coverage:.1f}%')
```

### 5. Dokumentation aktualisieren
- PROJECT_STATUS.md: Problem-Items 67 → 7
- TODO.md: Batch-Tasks als done markieren
- FINAL_REPORT_20251219.md erstellen

---

## WICHTIGE DATEIEN

| Datei | Pfad |
|-------|------|
| .env | `/Users/entropie/Documents/Medexamenai_Migration/Medexamenai_migration_full_20251217_204617/.env` |
| Batch-Input | `_OUTPUT/batch_input_prepared_20251218_221551.json` |
| Batch-Input (Original) | `_AGENT_WORK/GPT52_Batch_20251218_155448/input/batch_round2_input_20251218.json` |
| Target | `_OUTPUT/evidenz_antworten.json` |
| Missing-Liste | `_OUTPUT/meaningful_missing.json` |

---

## HINWEISE

1. **AWS Credentials funktionieren nicht** - Requesty und Anthropic sind die Hauptprovider
2. **Backup vor jedem Merge** - Immer zuerst Backup erstellen
3. **JSON validieren** - Nach Merge JSON-Struktur prüfen
4. **60 Items** - Die Batch-Runde enthält 60 Problem-Items zur Korrektur

---

## BEI PROBLEMEN

Falls API-Errors auftreten:
- Prüfe `.env` auf korrekte Werte
- Requesty ist Primary Provider
- Perplexity_1 für Validierung

Bei Fragen: Claude Code hat die Setup-Arbeiten erledigt, der Workflow ist bereit.
